class LetopisUtilities{constructor(){this.updateInterval=null,this.eventListenersAdded=!1,this.videoFrame=null,this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseWheel=this.handleMouseWheel.bind(this),this.onStart()}onStart(){this.checkForVideoFrame(),this.updateInterval=setInterval(()=>this.checkForVideoFrame(),1e3)}onStop(){this.resetStyle(),this.removeEventListeners(),clearInterval(this.updateInterval)}checkForVideoFrame(){let e=document.querySelector(".videoWrapper__73cb7");null!==e&&this.eventListenersAdded&&e!==this.videoFrame&&this.removeEventListeners(),null===e||this.eventListenersAdded?null===e&&this.eventListenersAdded&&this.removeEventListeners():(this.resetStyle(),e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("wheel",this.handleMouseWheel),this.eventListenersAdded=!0,this.videoFrame=e)}resetStyle(){this.videoFrame&&(this.videoFrame.style.top="0px",this.videoFrame.style.left="1px",this.videoFrame.style.transform="scale(1)",this.videoFrame.style.position="relative")}removeEventListeners(){this.videoFrame&&(this.videoFrame.removeEventListener("mousedown",this.handleMouseDown),this.videoFrame.removeEventListener("wheel",this.handleMouseWheel)),this.eventListenersAdded=!1,this.videoFrame=null}handleMouseDown(e){if(1===e.button){e.preventDefault();let t=e.clientX,i=e.clientY,s=this.videoFrame.getBoundingClientRect(),o=parseInt(this.videoFrame.style.left,10)||s.left,n=parseInt(this.videoFrame.style.top,10)||s.top,l=e=>{let s=e.clientX-t,l=e.clientY-i;this.videoFrame.style.position="relative",this.videoFrame.style.left=o+s+"px",this.videoFrame.style.top=n+l+"px"},d=()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",d)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",d)}}handleMouseWheel(e){if(e.ctrlKey){e.preventDefault();let t=Number(this.videoFrame.style.transform.replace(/[^0-9.]/g,""))||1,i=e.deltaY<0?.05:-.05,s=Math.max(.1,t+i),o=this.videoFrame.getBoundingClientRect(),n=e.clientX-o.left,l=e.clientY-o.top,d=(n-o.width/2)*i/s,r=(l-o.height/2)*i/s;this.videoFrame.style.position="relative",this.videoFrame.style.transform=`scale(${s})`,this.videoFrame.style.left=`${(parseFloat(this.videoFrame.style.left)||0)-d}px`,this.videoFrame.style.top=`${(parseFloat(this.videoFrame.style.top)||0)-r}px`}}}function handleUnload(e){"Delete"===e.code&&(e.shiftKey?(document.letopis.onStop(),document.letopis=void 0,document.body.removeEventListener("keydown",handleUnload)):document.letopis.resetStyle())}document.letopis=new LetopisUtilities,document.body.addEventListener("keydown",handleUnload);